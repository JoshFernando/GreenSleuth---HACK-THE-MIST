<!DOCTYPE html>
<html>
<head>
	<title>Audio Recorder</title>
	<style type="text/css">
		button {
			padding: 10px;
			font-size: 20px;
			border-radius: 5px;
			margin: 10px;
			cursor: pointer;
		}
		#start-btn {
			background-color: green;
			color: white;
		}
		#stop-btn {
			background-color: blue;
			color: white;
		}
		#stop-btn.recording {
			background-color: red;
		}
	</style>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
    <h1>Record Audio</h1>
    
    <button id="toggle-recording">Start Recording</button>
 
</body>
<script>
    $(document).ready(function() {
        var recording = false;
        $("#toggle-recording").click(function() {
            if (recording) {
                recording = false;
                $.ajax({
                    type: 'POST',
                    url: '/_audio_record',
                    dataType: 'json',
                    success: function(response) {
                        console.log(response);
                        $("#toggle-recording").text("Start Recording");
                    },
                    error: function(xhr, status, error) {
                        console.log(xhr.responseText);
                    },
                    
                });
            } else {
                recording = true;
                $.ajax({
                    type: 'POST',
                    url: '/_audio_record',
                    dataType: 'json',
                    success: function(response) {
                        console.log(response);
                        $("#toggle-recording").text("Stop Recording");
                    },
                    error: function(xhr, status, error) {
                        console.log(xhr);
                        console.log(status);
                        console.log(xhr.responseText);
                    },
                    
                });
            }
        });
    });
</script>
</html>
